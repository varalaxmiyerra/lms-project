
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LMS Dashboard</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
  <link href="dashboard-ui-update.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>
<body>
  <div class="dashboard-container">
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <h2>ADMIN DASHBOARD</h2>
      </div>
      <ul class="sidebar-menu">
        <li><a href="dashboard.html" class="active" data-page="dashboard"><i class="fas fa-tachometer-alt"></i><span>Dashboard</span></a></li>
        <li><a href="trainers.html"><i class="fas fa-chalkboard-teacher"></i><span>Trainer</span></a></li>
        <li><a href="student.html"><i class="fas fa-user-graduate"></i><span>Student</span></a></li>
        <li><a href="courses.html"><i class="fas fa-book"></i><span>Courses</span></a></li>
        <li><a href="analytics.html"><i class="fas fa-chart-bar"></i><span>Analytics</span></a></li>
        <li><a href="material.html"><i class="fas fa-file-alt"></i><span>Materials</span></a></li>
        <li><a href="video.html" data-page="video"><i class="fas fa-video"></i><span>Videos</span></a></li>
        <li><a href="about.html"><i class="fas fa-info-circle"></i><span>About Page</span></a></li>
        <li><a href="contact.html" data-page="contact"><i class="fas fa-envelope"></i><span>Contact Info</span></a></li>
        <li><a href="notifications.html"><i class="fas fa-bell"></i><span>Notifications</span></a></li>
        <li><a href="settings.html" data-page="settings"><i class="fas fa-cog"></i><span>Settings</span></a></li>
      </ul>
    </aside>

    <!-- Top Navbar -->
    <nav class="top-navbar redesigned-navbar">
      <div class="navbar-left">
        <button class="menu-toggle" id="menu-toggle" aria-label="Toggle Menu">
          <i class="fas fa-bars"></i>
        </button>
      <div class="search-bar">
        <input type="text" placeholder="Search..." id="universal-search-input" autocomplete="off">
        <button><i class="fas fa-search"></i></button>
      </div>
      </div>
      <div class="navbar-right">
        <button class="navbar-icon" id="notifications">
          <i class="fas fa-bell"></i>
          <span class="notification-badge">3</span>
        </button>

        <div class="profile-info">
          <span class="profile-name">vara</span>
          <img src="https://res.cloudinary.com/ds3wuvkwo/image/upload/v1757430111/Screenshot_217_dys7md.png" alt="Profile Picture" class="profile-pic" />
        </div>
        <button class="navbar-icon" id="logout">
          <i class="fas fa-sign-out-alt"></i>
        </button>
      </div>
      
    </nav>

    <!-- Removed duplicate Top Navbar -->

    <!-- Main Content -->
    <main class="main-content" id="main-content">
      <div class="content-header">
        <h1 id="page-title">Dashboard</h1>
        <p id="page-description">Welcome back! Here’s a quick look at what’s happening today</p>
      </div>

      <div class="dashboard-cards" id="dashboard-cards">
        <div class="card">
          <i class="fas fa-users card-icon"></i>
          <div>
            <h3>Total Students</h3>
            <p>1,250</p>
          </div>
        </div>
        <div class="card">
          <i class="fas fa-user card-icon"></i>
          <div>
            <h3>Total Trainers</h3>
            <p>75</p>
          </div>
        </div>
        <div class="card">
          <i class="fas fa-book card-icon"></i>
          <div>
            <h3>Total Courses</h3>
            <p>45</p>
          </div>
        </div>
        <div class="card">
          <i class="fas fa-user-clock card-icon"></i>
          <div>
            <h3>Active Users</h3>
            <p>250</p>
          </div>
        </div>
      </div>

      <div class="graphs-row">
        <div class="graph-container">
          <h3>Combined Enrollment and Completion Trends</h3>
          <canvas id="combinedChart" style="height: 500px; width: 100%;"></canvas>
        </div>

        <div class="graph-container">
          <h3>User Distribution</h3>
          <canvas id="userDistributionChart" style="height: 500px; width: 100%;"></canvas>
        </div>
      </div>
      <div class="graphs-row">
        <div class="graph-container">
          <h3>Enrollment by Course</h3>
          <canvas id="enrollmentByCourseChart" style="height: 500px; width: 100%;"></canvas>
        </div>
        <div class="graph-container">
          <h3>Trainer Performance</h3>
          <canvas id="trainerPerformanceChart" style="height: 500px; width: 100%;"></canvas>
        </div>
      </div>

      <!-- Course Overview Section -->
      <div class="course-overview-section">
        <div class="card">
          <div class="card-header">
            <h3>Course Overview</h3>
            <a href="courses.html" class="btn-secondary">View All Courses</a>
          </div>
          <div class="courses-table-container">
            <table class="courses-table">
              <thead>
                <tr>
                  <th>Course Name</th>
                  <th>Trainer</th>
                  <th>Enrolled Students</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody id="courses-table-body">
                <!-- Courses will be populated here -->
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <div class="dashboard-low active">
        <div class="chart-like-container">
          <div class="recent-activity card">
            <h3>Recent Activity</h3>
            <ul>
              <li><i class="fas fa-check-circle"></i> New student Ravi Kumar registered</li>
              <li><i class="fas fa-calendar-alt"></i> Course Java Basics added</li>
              <li><i class="fas fa-user"></i> Trainer Anjall Sharma uploaded new material</li>
              <li><i class="fas fa-arrow-up-right-from-square"></i> Access request approved for John Doe</li>
              <li><i class="fas fa-graduation-cap"></i> Student Priya completed Python course</li>
              <li><i class="fas fa-book-open"></i> New course Data Structures added to catalog</li>
              <li><i class="fas fa-user-plus"></i> Trainer Michael joined the platform</li>
              <li><i class="fas fa-certificate"></i> Certificates issued for 15 students</li>
            </ul>
          </div>
        </div>
        <div class="chart-like-container">
          <div class="tasks-reminders card">
            <h3>Tasks / Reminders</h3>
            <ul>
              <li><i class="fas fa-check"></i> Approve 3 access requests</li>
              <li><i class="fas fa-check"></i> Update 2 course materials</li>
              <li><i class="fas fa-check"></i> Check student performance reports</li>
              <li><i class="fas fa-check"></i> Schedule trainer feedback sessions</li>
              <li><i class="fas fa-check"></i> Upload new video content for Web Development</li>
              <li><i class="fas fa-check"></i> Send weekly progress emails to students</li>
              <li><i class="fas fa-check"></i> Review analytics dashboard metrics</li>
              <li><i class="fas fa-check"></i> Update security protocols</li>
            </ul>
          </div>
        </div>
        <div class="chart-like-container">
          <div class="notifications-panel card">
            <h3>Notifications</h3>
            <ul class="notifications-list">
              <li class="notification-item" data-id="1">
                <i class="fas fa-bell"></i>
                <div class="notification-content">
                  <p class="notification-title">New enrollment request</p>
                  <p class="notification-desc">John Doe requested to enroll in Python Course</p>
                  <span class="notification-time">2 hours ago</span>
                </div>
              </li>
              <li class="notification-item" data-id="2">
                <i class="fas fa-exclamation-triangle"></i>
                <div class="notification-content">
                  <p class="notification-title">System maintenance</p>
                  <p class="notification-desc">Scheduled maintenance tonight at 11 PM</p>
                  <span class="notification-time">1 day ago</span>
                </div>
              </li>
              <li class="notification-item" data-id="3">
                <i class="fas fa-user-plus"></i>
                <div class="notification-content">
                  <p class="notification-title">New trainer onboarded</p>
                  <p class="notification-desc">Sarah Johnson joined as a new trainer</p>
                  <span class="notification-time">3 days ago</span>
                </div>
              </li>
            </ul>
          </div>
        </div>
        <div class="chart-like-container">
          <div class="user-profile card">
            <h3>User Profile / Shortcuts</h3>
            <div class="profile-info">
              <img src="https://res.cloudinary.com/ds3wuvkwo/image/upload/v1757430111/Screenshot_217_dys7md.png" alt="VARALAXMI" class="profile-pic" />
              <div>
                <p class="profile-name">VARALAXMI Y</p>
                <p class="profile-role">Admin</p>
              </div>
            </div>
            <div class="profile-buttons">
              <button class="quick-action-btn" data-action="add-student"><i class="fas fa-user-plus"></i> Add Student</button>
              <button class="quick-action-btn" data-action="add-trainer"><i class="fas fa-chalkboard-teacher"></i> Add Trainer</button>
              <button class="quick-action-btn" data-action="add-course"><i class="fas fa-book"></i> Add Course</button>
              <button class="quick-action-btn" data-action="view-reports"><i class="fas fa-chart-bar"></i> View Reports</button>
              <button class="quick-action-btn" data-action="manage-users"><i class="fas fa-users-cog"></i> Manage Users</button>
            </div>
          </div>
        </div>
      </div>

    </main>
  </div>

  <script>
    // Sidebar toggle
    const sidebar = document.getElementById('sidebar');
    const menuToggle = document.getElementById('menu-toggle');
    const mainContent = document.getElementById('main-content');
    const topNavbar = document.querySelector('.top-navbar');

    if(menuToggle) {
      menuToggle.addEventListener('click', () => {
        sidebar.classList.toggle('collapsed');
      });
    }

   
    // Navbar icon handlers
    document.getElementById('notifications').addEventListener('click', () => {
      window.location.href = 'notifications.html';
    });

    document.getElementById('logout').addEventListener('click', () => {
      if (confirm('Are you sure you want to logout?')) {
        window.location.href = 'lms_login_new.html';
      }
    });

    // Responsive sidebar
    window.addEventListener('resize', () => {
      if (window.innerWidth <= 768) {
        sidebar.classList.add('collapsed');
      } else {
        sidebar.classList.remove('collapsed');
      }
    });

    // Initialize
    if (window.innerWidth <= 768) {
      sidebar.classList.add('collapsed');
    }

    // Notifications panel interactions
    const notificationItems = document.querySelectorAll('.notification-item');
    notificationItems.forEach(item => {
      item.addEventListener('click', () => {
        const id = item.getAttribute('data-id');
        const title = item.querySelector('.notification-title').textContent;
        alert(`Notification: ${title}\nID: ${id}`);
      });
    });

    // Quick action buttons
    const quickActionBtns = document.querySelectorAll('.quick-action-btn');
    quickActionBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        const action = btn.getAttribute('data-action');
        switch(action) {
          case 'add-student':
            alert('Redirecting to Add Student page...');
            // window.location.href = 'add_student.html';
            break;
          case 'add-trainer':
            alert('Redirecting to Add Trainer page...');
            // window.location.href = 'add_trainer.html';
            break;
          case 'add-course':
            window.location.href = 'courses.html';
            break;
          case 'view-reports':
            alert('Redirecting to Reports page...');
            // window.location.href = 'reports.html';
            break;
          case 'manage-users':
            alert('Redirecting to User Management page...');
            // window.location.href = 'manage_users.html';
            break;
        }
      });
    });

    // Universal Search Bar functionality
    const universalSearchInput = document.getElementById('universal-search-input');

    universalSearchInput.addEventListener('input', () => {
      const query = universalSearchInput.value.toLowerCase().trim();

      // Filter courses table rows
      const coursesTableBody = document.getElementById('courses-table-body');
      if (coursesTableBody) {
        Array.from(coursesTableBody.children).forEach(row => {
          const courseName = row.cells[0]?.textContent.toLowerCase() || '';
          const trainerName = row.cells[1]?.textContent.toLowerCase() || '';
          if (courseName.includes(query) || trainerName.includes(query)) {
            row.style.display = '';
          } else {
            row.style.display = 'none';
          }
        });
      }

      // Filter recent activity list items
      const recentActivityItems = document.querySelectorAll('.recent-activity ul li');
      recentActivityItems.forEach(item => {
        const text = item.textContent.toLowerCase();
        item.style.display = text.includes(query) ? '' : 'none';
      });

      // Filter tasks/reminders list items
      const tasksRemindersItems = document.querySelectorAll('.tasks-reminders ul li');
      tasksRemindersItems.forEach(item => {
        const text = item.textContent.toLowerCase();
        item.style.display = text.includes(query) ? '' : 'none';
      });

      // Filter notifications list items
      const notificationItems = document.querySelectorAll('.notifications-list .notification-item');
      notificationItems.forEach(item => {
        const title = item.querySelector('.notification-title')?.textContent.toLowerCase() || '';
        const desc = item.querySelector('.notification-desc')?.textContent.toLowerCase() || '';
        if (title.includes(query) || desc.includes(query)) {
          item.style.display = '';
        } else {
          item.style.display = 'none';
        }
      });

      // Filter user profile shortcuts buttons
      const profileButtons = document.querySelectorAll('.profile-buttons button');
      profileButtons.forEach(button => {
        const text = button.textContent.toLowerCase();
        if (text.includes(query)) {
          button.style.display = '';
          // If the search query fully matches a button text, redirect to the corresponding page
          if (text === query) {
            switch(button.getAttribute('data-action')) {
              case 'add-student':
                window.location.href = 'student.html';
                break;
              case 'add-trainer':
                window.location.href = 'trainers.html';
                break;
              case 'add-course':
                window.location.href = 'courses.html';
                break;
              case 'view-reports':
                window.location.href = 'analytics.html';
                break;
              case 'manage-users':
                window.location.href = 'settings.html';
                break;
            }
          }
        } else {
          button.style.display = 'none';
        }
      });
    });

  </script>

  <script>
    // Combined Enrollment and Completion Chart
    const ctxCombined = document.getElementById('combinedChart').getContext('2d');
    const combinedChart = new Chart(ctxCombined, {
      data: {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
        datasets: [{
          type: 'line',
          label: 'Enrollments',
          data: [30, 45, 60, 50, 70, 80, 90, 100, 110, 95, 85, 75],
          borderColor: 'rgba(20, 161, 145, 1)',
          backgroundColor: 'rgba(20, 161, 145, 0.2)',
          fill: false,
          tension: 0.3,
          pointRadius: 4,
          pointHoverRadius: 6,
          borderWidth: 3
        }, {
          type: 'line',
          label: 'Avg Completion Rate (%)',
          data: [75, 80, 90, 60, 70, 99, 95, 85, 100, 90, 95, 50],
          borderColor: 'rgba(255, 99, 132, 1)',
          backgroundColor: 'rgba(255, 99, 132, 0.2)',
          fill: false,
          tension: 0.3,
          pointRadius: 4,
          pointHoverRadius: 6,
          borderWidth: 3
        }]
      },
      options: {
        responsive: false,
        maintainAspectRatio: false,
        width: 800,
        height: 500,
        animation: false,
        hover: {
          mode: null
        },
        plugins: {
          legend: {
            display: true,
            position: 'top',
            labels: {
              color: '#035e47',
              font: {
                size: 14,
                weight: 'bold'
              }
            }
          },
          tooltip: {
            enabled: true,
            mode: 'nearest',
            intersect: false
          }
        },
        scales: {
          x: {
            ticks: {
              color: '#035e47',
              font: {
                size: 12,
                weight: 'bold'
              }
            },
            grid: {
              display: false
            }
          },
          y: {
            beginAtZero: true,
            ticks: {
              color: '#035e47',
              font: {
                size: 12,
                weight: 'bold'
              }
            },
            grid: {
              color: 'rgba(3, 94, 71, 0.1)'
            }
          }
        }
      }
    });
  </script>
  <script>
    // Enrollment by Course Chart
    const ctxEnrollmentByCourse = document.getElementById('enrollmentByCourseChart').getContext('2d');
    const enrollmentByCourseChart = new Chart(ctxEnrollmentByCourse, {
      type: 'bar',
      data: {
        labels: ['Java Basics', 'Python Fundamentals', 'Web Development', 'Data Science', 'Machine Learning'],
        datasets: [{
          label: 'Enrollments',
          data: [120, 150, 100, 80, 60],
          backgroundColor: 'rgba(20, 161, 145, 0.7)',
          borderColor: 'rgba(20, 161, 145, 1)',
          borderWidth: 1
        }]
      },
      options: {
        responsive: false,
        maintainAspectRatio: false,
        width: 800,
        height: 500,
        scales: {
          x: {
            ticks: {
              color: '#035e47',
              font: {
                size: 12,
                weight: 'bold'
              }
            },
            grid: {
              display: false
            }
          },
          y: {
            beginAtZero: true,
            ticks: {
              color: '#035e47',
              font: {
                size: 12,
                weight: 'bold'
              }
            },
            grid: {
              color: 'rgba(3, 94, 71, 0.1)'
            }
          }
        },
        plugins: {
          legend: {
            display: false
          },
          tooltip: {
            enabled: true
          }
        }
      }
    });
  </script>
  <script>
    // Trainer Performance Chart
    const ctxTrainerPerformance = document.getElementById('trainerPerformanceChart').getContext('2d');
    const trainerPerformanceChart = new Chart(ctxTrainerPerformance, {
      type: 'radar',
      data: {
        labels: ['Teaching Quality', 'Student Engagement', 'Course Completion', 'Feedback Score', 'Timeliness'],
        datasets: [{
          label: 'Trainer A',
          data: [85, 90, 88, 92, 87],
          backgroundColor: 'rgba(20, 161, 145, 0.2)',
          borderColor: 'rgba(20, 161, 145, 1)',
          borderWidth: 2,
          pointBackgroundColor: 'rgba(20, 161, 145, 1)',
          pointBorderColor: '#fff',
          pointHoverBackgroundColor: '#fff',
          pointHoverBorderColor: 'rgba(20, 161, 145, 1)'
        }, {
          label: 'Trainer B',
          data: [78, 85, 82, 88, 90],
          backgroundColor: 'rgba(255, 99, 132, 0.2)',
          borderColor: 'rgba(255, 99, 132, 1)',
          borderWidth: 2,
          pointBackgroundColor: 'rgba(255, 99, 132, 1)',
          pointBorderColor: '#fff',
          pointHoverBackgroundColor: '#fff',
          pointHoverBorderColor: 'rgba(255, 99, 132, 1)'
        }]
      },
      options: {
        responsive: false,
        maintainAspectRatio: false,
        width: 800,
        height: 500,
        animation: false,
        hover: {
          mode: null
        },
        plugins: {
          legend: {
            display: true,
            position: 'top',
            labels: {
              color: '#035e47',
              font: {
                size: 14,
                weight: 'bold'
              }
            }
          },
          tooltip: {
            enabled: true
          }
        },
        scales: {
          r: {
            beginAtZero: true,
            ticks: {
              color: '#035e47',
              font: {
                size: 12,
                weight: 'bold'
              }
            },
            grid: {
              color: 'rgba(3, 94, 71, 0.1)'
            }
          }
        }
      }
    });
  </script>



  <script>
    // User Distribution Chart
    const ctxDistribution = document.getElementById('userDistributionChart').getContext('2d');
    const userDistributionChart = new Chart(ctxDistribution, {
      type: 'pie',
      data: {
        labels: ['Students', 'Trainers', 'Admins'],
        datasets: [{
          label: 'User Distribution',
          data: [1250, 75, 10],
          backgroundColor: [
            'rgba(20, 161, 145, 0.6)',
            'rgba(255, 99, 132, 0.6)',
            'rgba(54, 162, 235, 0.6)'
          ],
          borderColor: [
            'rgba(20, 161, 145, 1)',
            'rgba(255, 99, 132, 1)',
            'rgba(54, 162, 235, 1)'
          ],
          borderWidth: 1
        }]
      },
      options: {
        responsive: false,
        maintainAspectRatio: false,
        width: 800,
        height: 500,
        animation: false,
        hover: {
          mode: null
        },
        plugins: {
          legend: {
            display: true,
            position: 'top',
            labels: {
              color: '#035e47',
              font: {
                size: 14,
                weight: 'bold'
              }
            }
          },
          tooltip: {
            enabled: true,
            callbacks: {
              label: function(context) {
                const label = context.label || '';
                const value = context.parsed;
                const total = context.dataset.data.reduce((a, b) => a + b, 0);
                const percentage = ((value / total) * 100).toFixed(1);
                return `${label}: ${value} (${percentage}%)`;
              }
            }
          }
        }
    }
  });
  

  </script>

  <script>
    // Courses data array
    let courses = [
      {
        id: 'CS001',
        name: 'Java Basics',
        trainer: 'John Doe',
        enrolledStudents: 120,
        duration: '8 weeks',
        status: 'Active',
        avatar: 'https://via.placeholder.com/40'
      },
      {
        id: 'CS002',
        name: 'Python Fundamentals',
        trainer: 'Jane Smith',
        enrolledStudents: 150,
        duration: '10 weeks',
        status: 'Active',
        avatar: 'https://via.placeholder.com/40'
      },
      {
        id: 'CS003',
        name: 'Web Development',
        trainer: 'Mike Johnson',
        enrolledStudents: 100,
        duration: '12 weeks',
        status: 'Inactive',
        avatar: 'https://via.placeholder.com/40'
      }
    ];

    // Render courses table
    function renderCoursesTable() {
      const tbody = document.getElementById('courses-table-body');
      tbody.innerHTML = '';
      courses.forEach(course => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${course.name}</td>
          <td>${course.trainer}</td>
          <td>${course.enrolledStudents}</td>
          <td><span class="status ${course.status.toLowerCase()}">${course.status}</span></td>
        `;
        tbody.appendChild(tr);
      });
    }

    // Call render on load
    renderCoursesTable();
  </script>
  
</body>
</html>
